<!DOCTYPE html>
<html>
<head>
  <title>Smart Expense Tracker</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>Smart Expense Tracker</h1>

  <input type="text" id="category" placeholder="Category (Food, Travel)">
  <input type="number" id="amount" placeholder="Amount">
  <button onclick="addExpense()">Add Expense</button>

  <h3>Total: â‚¹<span id="total">0</span></h3>

  <canvas id="myChart" width="400" height="200"></canvas>

  <script>
    let expenses = [];
    let total = 0;

    function addExpense() {
      let category = document.getElementById("category").value;
      let amount = parseInt(document.getElementById("amount").value);

      if (!category || !amount) {
        alert("Please fill all fields");
        return;
      }

      expenses.push({
        category: category.trim().toLowerCase(),
   amount: amount
});
      total += amount;

      document.getElementById("total").innerText = total;
      if (total > 5000) {
  alert("âš  You are exceeding your monthly budget!");
}

      updateChart();
    }

    function updateChart() {
      let categories = {};
      expenses.forEach(e => {
        categories[e.category] = (categories[e.category] || 0) + e.amount;
      });

      let labels = Object.keys(categories);
      let data = Object.values(categories);

      new Chart(document.getElementById("myChart"), {
    type: 'pie',
    data: {
        labels: labels,
        datasets: [{
            data: data
        }]
    },
    options: {
        plugins: {
            tooltip: {
                callbacks: {
                    label: function(context) {
                        let totalSum = context.dataset.data.reduce((a, b) => a + b, 0);
                        let value = context.raw;
                        let percentage = ((value / totalSum) * 100).toFixed(1);
                        return context.label + ": â‚¹" + value + " (" + percentage + "%)";
                    }
                }
            }
        }
    }
});
      if (categories["food"] && categories["food"] > total * 0.4) {
  alert("ðŸ’¡ You are spending heavily on Food. Try reducing it.");
}
    }
  </script>
</body>
</html>
